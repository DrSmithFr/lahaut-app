@use "sass:map";

// Normalize CSS
@import 'normalize.css/normalize.css';

// Google Fonts
@import url(https://fonts.googleapis.com/css?family=Roboto:400italic,700italic,400,700);
@import url(https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@48,400,0,200);
@import url(https://fonts.googleapis.com/css2?family=Rock+Salt);
@import url(https://fonts.googleapis.com/css2?family=Source+Code+Pro:wght@300;400;600&display=swap);

// Importing variables
@import "breakpoints";
@import "colors";
@import "fonts";
@import "theme";

// color palettes CSS varibales helpers
:root {
  // colors
  --green: #75f1a8;

  // fonts
  --font-text: #{$font-text};
  --font-title: #{$font-title};

  --blur: blur(5px);
  --max-page-width: 800px;
}

// Themes Light/Dark
:root {
  --shadow: rgba(0, 0, 0, 0.2);

  --background-img-mobile: url('assets/corporate/background/background-mobile-new.png');
  --background-img-decktop: url('assets/corporate/background/background-desktop-light-new.png');

  --background: #fff;
  --background-transparent: #{rgba(#fff, .8)};

  --background-dark: #dadada;
  --background-dark-transparent: rgba(250, 250, 250, .8);

  --background-primary: #{rgba(map-get($primary, 500), 0.7)};
  --background-accent: #{rgba(map-get($accent, 500), 0.7)};
  --background-warn: #{rgba(map-get($warn, 500), 0.7)};

  --text-light: #{map-get($base, 200)};
  --text: #{map-get($base, 500)};
  --text-dark: #{map-get($base, 800)};

  --border-light: #{map-get($base, 50)};
  --border: #{map-get($base, 100)};
  --border-dark: #{map-get($base, 300)};

  --primary-light: #{map-get($primary, 200)};
  --primary: #{map-get($primary, 500)};
  --primary-dark: #{map-get($primary, 900)};

  --accent-light: #{map-get($accent, 200)};
  --accent: #{map-get($accent, 500)};
  --accent-dark: #{map-get($accent, 900)};

  --warn-light: #{map-get($warn, 200)};
  --warn: #{map-get($warn, 500)};
  --warn-dark: #{map-get($warn, 900)};

  --base-light: #{map-get($base, 200)};
  --base: #{map-get($base, 500)};
  --base-dark: #{map-get($base, 900)};
}

[data-theme="dark"] {
  // colors
  --shadow: rgba(255, 255, 255, 0.2);

  --background-img-mobile: url('assets/corporate/background/background-mobile-new.png');
  --background-img-decktop: url('assets/corporate/background/background-desktop-dark-new.png');

  --background: #{map-get($base, 900)};
  --background-transparent: #{rgba(map-get($base, 800), 0.8)};

  --background-dark: #{rgba(#666,.7)};
  --background-dark-transparent: #{rgba(map-get($base, 900), 0.8)};

  --background-primary: #{rgba(map-get($primary, 500), 0.7)};
  --background-accent: #{rgba(map-get($accent, 500), 0.7)};
  --background-warn: #{rgba(map-get($warn, 500), 0.7)};

  --text-light: #{map-get($base, 100)};
  --text: #{map-get($base, 200)};
  --text-dark: #{map-get($base, 300)};

  --border-light: #{map-get($base, 500)};
  --border: #{map-get($base, 700)};
  --border-dark: #{map-get($base, 900)};

  --primary-light: #{map-get($primary, 900)};
  --primary: #{map-get($primary, 500)};
  --primary-dark: #{map-get($primary, 200)};

  --accent-light: #{map-get($accent, 900)};
  --accent: #{map-get($accent, 500)};
  --accent-dark: #{map-get($accent, 200)};

  --warn-light: #{map-get($warn, 900)};
  --warn: #{map-get($warn, 500)};
  --warn-dark: #{map-get($warn, 200)};

  --base-light: #{map-get($base, 900)};
  --base: #{map-get($base, 500)};
  --base-dark: #{map-get($base, 200)};
}

// import material styles
@import "scss/material";
@import "scss/material-customs/_all";
@import "scss/components/_all";
@import "scss/fonctionals/_all";

// import animations keyframes
@import "animations/_all_keyframes";

// imperative styles
.center {
  text-align: center;
}

.right {
  text-align: right;
}

.left {
  text-align: left;
}

.full-width {
  width: 100%;
}

.shadow {
  box-shadow: 0 0 5px rgba(0, 0, 0, .3) !important;
}

// Base styles
body {
  color: var(--text);
  font-family: var(--font-text);
}

h1, h2, h3, h4, h5, h6 {
  color: var(--text-dark);

  font-family: $font-title;
  font-weight: 500;

  &.bold {
    font-weight: 800;
  }

  &.primary {
    color: var(--primary);
  }

  &.accent {
    color: var(--accent);
  }
}

div, p, a,
.text,
.mat-label,
.mat-button-wrapper, .mat-option-text {
  font-family: var(--font-text);
  font-size: 14px;
  line-height: 20px;
}

a {
  color: var(--text);
  text-decoration: none;

  &:hover {
    cursor: pointer;
    color: var(--text-dark);
  }

  &.primary {
    color: var(--primary);

    &:hover {
      color: var(--primary-dark);
    }
  }

  &.accent {
    color: var(--accent);

    &:hover {
      color: var(--accent-dark);
    }
  }

  &.warn {
    color: var(--warn);

    &:hover {
      color: var(--warn-dark);
    }
  }
}


h1, h2, h3, h4, h5, .title, .mat-card-title {
  font-family: var(--font-title);
}

// Custom styles
html {
  background-color: var(--background);

  .ng-animating .app-page::before {
    height: 100vh;
  }

  .app-page::before {
    content: " ";

    top: 0;
    position: fixed;

    width: 100vw;
    height: 100%;

    z-index: -1;
    overflow: hidden;

    background-image: var(--background-img-mobile);
    background-size: cover;

    @include tablet {
      background-image: var(--background-img-decktop);
      background-size: auto;
    }

    @include desktop {
      background-image: var(--background-img-decktop);
      background-size: auto;
    }

    background-repeat: no-repeat;
    background-attachment: fixed;

    background-position: bottom;
  }
}

// Page Background
$backgrounds: (
  searchPage: 'assets/corporate/backgrounds/background-1.png',
  loginPage: 'assets/corporate/backgrounds/background-2.png',
  registerCustomer: 'assets/corporate/backgrounds/background-3.png',
  registerMonitor: 'assets/corporate/backgrounds/background-4.png',
  cartPage: 'assets/corporate/backgrounds/background-5.png',
);

@each $name, $src in $backgrounds {
  .background-#{$name} {
    &::before {
      background-image: url($src); // !important;

      @include desktop {
        background-image: url($src); // !important;
      }
    }
  }
}

// Page default styles
.ng-animating .app-page {
  height: 100dvh;
  width: 100dvw;
  overflow: hidden;
}

.app-page {

  &.overlay,
  .overlay {
    background: var(--background-dark-transparent) !important;
    backdrop-filter: var(--blur);
  }

  & > header,
  & > main {
    max-width: var(--max-page-width);
    padding: 0 20px;

    margin: 0 auto;

    & > :first-child {
      margin-top: $toolbar-desktop;

      @include tablet() {
        margin-top: $toolbar-tablet;
      }

      @include mobile-all() {
        margin-top: $toolbar-mobile;
      }
    }
  }

  & > main {
    padding: 0 20px;
  }

  & > header {
    h1, h2, h3, h4, h5, h6 {
      text-transform: uppercase;
      font-weight: bold;
      color: var(--accent);
    }

    &.primary {
      h1, h2, h3, h4, h5, h6 {
        color: var(--primary);
      }
    }

    &.accent {
      h1, h2, h3, h4, h5, h6 {
        color: var(--accent);
      }
    }

    &.warn {
      h1, h2, h3, h4, h5, h6 {
        color: var(--warn);
      }
    }
  }

  & > nav {
    z-index: 10;
    position: fixed;

    top: 0;
    right: 0;
    left: 0;

    height: 0;
  }

  & > footer {
    margin-top: 20px;
    padding: 20px;

    position: fixed;

    bottom: 0;
    right: 0;
    left: 0;
  }
}
